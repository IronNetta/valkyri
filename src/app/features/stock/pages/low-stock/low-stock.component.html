<p-button
  label="Back to stocks"
  type="submit"
  (click)="returnToStocks()"
></p-button>

<div class="container mt-4">
  <h2>Liste des stocks faibles</h2>
  <p-table [value]="stocks()" [rows]="5" [showCurrentPageReport]="true" currentPageReportTemplate="Affichage de {first} jusqu'a {last} sur {totalRecords} stocks faibles" [rowsPerPageOptions]="[5,10,15,20]" styleClass="mt-5">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="produitId">Produit</th>
        <th pSortableColumn="quantiteDisponible">Stocks restants</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-stock>
      <tr [ngClass]="{criticalStock: stock.quantiteDisponible <= 5, lowStock: stock.quantiteDisponible > 5}">
        <td>{{ stock.produitId }}</td>
        <td>{{ stock.quantiteDisponible }}</td>
      </tr>
    </ng-template>

  </p-table>
  <p-paginator
    [rows]="itemsPerPage()"
    [totalRecords]="stocks().length"
    [rowsPerPageOptions]="[5, 10, 15, 20]"
    (onPageChange)="paginate($event)">
  </p-paginator>

</div>



