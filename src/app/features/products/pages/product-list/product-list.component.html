<div class="container mt-4">
  <h2>Liste des produits</h2>
  <div class="mb-3">
    <input type="text" pInputText placeholder="Rechercher un produit..." [(ngModel)]="searchQuery" (input)="filterProducts()" />
    <button pButton type="button" label="Ajouter un produit" icon="pi pi-plus" (click)="addProduct()"></button>
  </div>

  <p-table [value]="filteredProducts" [paginator]="true" [rows]="10">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
        <th pSortableColumn="name">Nom <p-sortIcon field="name"></p-sortIcon></th>
        <th pSortableColumn="price">Prix <p-sortIcon field="price"></p-sortIcon></th>
        <th>Actions</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.id }}</td>
        <td>{{ product.nom }}</td>
        <td>{{ product.price }} â‚¬</td>
        <td>
          <button pButton icon="pi pi-pencil" class="p-button-warning" (click)="editProduct(product.id)"></button>
          <button pButton icon="pi pi-trash" class="p-button-danger" (click)="deleteProduct(product.id)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
